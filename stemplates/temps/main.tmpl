package main

import (
	//"log"
	//"net/http"
	_ "net/http/pprof"

	"{{.ProjectName}}/manager"
)

//docker run --rm --name jaeger   -p 16686:16686   -p 4317:4317   -p 4318:4318   -p 5778:5778   -p 9411:9411   cr.jaegertracing.io/jaegertracing/jaeger:2.8.0
// scrud fiber-install -u bushubdegefu -p scrud-play -a blue-admin
// go tool pprof -alloc_objects http://localhost:6060/debug/pprof/heap
//curl http://localhost:6060/debug/pprof/heap?gc=1 > after.pb.gz
//go tool pprof -alloc_space after.pb.gz
//go tool pprof -inuse_space after.pb.gz
//hey -z 2m -c 5000 -m GET -q 10000 -H "x-app-key:Bearer something"  'http://localhost:7500/api/v1/blue_admin/user?page=1&size=20'
//curl http://localhost:6060/debug/pprof/profile?seconds=30 > cpu.pb.gz
//go tool pprof -http=:8080 cpu.pb.gz
func main() {

	//go func() {
	//	log.Println(http.ListenAndServe("localhost:6060", nil))
	//}()
	manager.Execute()
}



// With this linux config settings you can hit pertty high number of RPS with low latency and no connection issues. You can set these in your /etc/sysctl.conf file and run sudo sysctl -p to apply them. Adjust the values as needed based on your system's resources and expected load.
//  sudo sysctl -p
// net.ipv4.ip_local_port_range = 1024 65535
// net.ipv4.tcp_tw_reuse = 1
// net.netfilter.nf_conntrack_max = 2000000
// net.core.netdev_max_backlog = 50000
// net.core.somaxconn = 65535
